<form method="post" onsubmit="return validateForm()">
  <label>Email</label>
  <input type="email" name="email" value="{{ email or '' }}" required /><br />

  <label>Full name</label>
  <input type="text" name="full_name" value="{{ full_name or '' }}" required /><br />

  <label>Password</label>
  <input type="password" name="password" required /><br />

  <!-- Подписка -->
  <label>
      <input type="checkbox" name="is_subscribed" value="on" />
    Хочу получать рассылки
  </label><br />

  <!-- Обработка ПД -->
  <label>
    <input type="checkbox" id="privacy_agree" />
    Согласен на обработку персональных данных
  </label>
  <div id="privacy_error" style="color:red; display:none;">
    Необходимо согласиться на обработку ПД
  </div>

  <button type="submit">Зарегистрироваться</button>
</form>

<script>
function validateForm() {
  const agree = document.getElementById('privacy_agree');
  const error = document.getElementById('privacy_error');
  if (!agree.checked) {
    error.style.display = 'block';
    return false;
  } else {
    error.style.display = 'none';
    return true;
  }
}
</script>
